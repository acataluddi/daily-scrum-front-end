<div class="header-part">
  <div *ngIf="flag">
    <app-userslist [childProject]="currentProject" [childProjectId]="projectId" (selectedEmailEvent)="changeEmail($event)"></app-userslist>
  </div>
  <div class="name-button">
    <div class="task-holder">
      {{taskHolderName}}
    </div>
    <div class="view-all">
      <button class="view_all_task" *ngIf="flag" (click)="viewAllTasks()">
        View all tasks
      </button>
      <div *ngIf="flag" class="alt-View-class" (click)="viewAllTasks()">
        <span class="alt-View glyphicon glyphicon-th"></span>
      </div>
    </div>
  </div>
  <div>
    <div class="left-header">
      <div class="yesterday_task_header">{{yesterdayval}}</div>
      <div class="total_time">
        <div *ngIf="(total_hours_spent1 != 0 || total_minutes_spent1 != 0) && editable1">
          <span *ngIf="checkbox1 == false && editable1" class="dot dot-blank" (click)="checkbox1=true; selectAll(MockYesterdayTasks, 1)"></span>
          <span *ngIf="checkbox1 && editable1" class="dot dot-fill" (click)="checkbox1=false; unselectAll(1)"></span>
        </div>
        <div class="total_time_border">
          <div class="total_time_text"> {{total_hours_spent1}}h {{total_minutes_spent1}}m</div>
          <div class="spent_text">Hours spent</div>
        </div>
        <div class="last_edit_label">Last edit: {{lastEditString1}}</div>
        <div class="copy" (click)="copy(selectedYesterdaysTasks)" *ngIf="(total_hours_spent1 != 0 || total_minutes_spent1 != 0) && editable1">
          <img src="../../assets/copy.png">
        </div>
      </div>

    </div>
    <div class="right-header">
      <div class="today_header">
        <img class="left-arrow" id="leftarrow" src="../../assets/arrow-left.png" align="top" (click)="getPreviousDate()">
        <img class="right-arrow" id="rightarrow" src="../../assets/arrow-right.png" align="top" (click)="getNextDate()">
        <div class="today_task_header" (click)="showDatePicker=true" type="text" [minDate]="minDate" [maxDate]="maxDate"
          #dp="bsDatepicker" [bsConfig]="datePickerConfig" bsDatepicker [(bsValue)]="myDateValue" (onHidden)="showDatePicker=false"
          (bsValueChange)="onDateChange($event)">{{todayval}}</div>
      </div>
      <div class="today_task_label" *ngIf="total_hours_spent2 == 0 && total_minutes_spent2 == 0 && editable2">Write
        about your tasks
        for today</div>

      <div class="total_time" *ngIf="total_hours_spent2 != 0 || total_minutes_spent2 != 0">
        <div>
          <span *ngIf="checkbox2 == false && editable2" class="dot dot-blank" (click)="checkbox2=true; selectAll(MockTodayTasks, 2)"></span>
          <span *ngIf="checkbox2 && editable2" class="dot dot-fill" (click)="checkbox2=false; unselectAll(2)"></span>
        </div>
        <div class="total_time_border">
          <div class="total_time_text"> {{total_hours_spent2}}h {{total_minutes_spent2}}m</div>
          <div class="spent_text">Hours spent</div>
        </div>
        <div class="last_edit_label">Last edit: {{lastEditString2}}</div>
        <div class="copy" (click)="copy(selectedTodaysTasks)" *ngIf="(total_hours_spent2 != 0 || total_minutes_spent2 != 0) && editable2">
          <img src="../../assets/copy.png">
        </div>
      </div>

    </div>
  </div>
</div>
<div class="main-part">
  <div class="vertical"></div>
  <div class="container left-part">
    <div class="left-inner-part">
      <div *ngFor="let yesterdayTask of MockYesterdayTasks">
        <app-individual-task [task]=yesterdayTask [editable]=editable1 [events]="eventsSubject1.asObservable()"
          (timeChangeEvent)="modifyTime($event, MockYesterdayTasks, 1)" (selectedTask)="selectedTasks($event, 1)"
          (unselectedTask)="unselectedTasks($event, 1)" (deleteTask)="deleteTask(MockYesterdayTasks, $event, 1)"
          (popTask)="popTask(MockYesterdayTasks, $event)"></app-individual-task>
      </div>
      <div class="new_task_field" (click)="addYesterdayTask()" *ngIf="editable1">
        <img class="img_add_new_task" src="../../assets/add-icon.png" align="top">
        <div class="add_task_label">
          Add new task here</div>
      </div>
    </div>
  </div>
  <div class="container right-part">
    <div class="right-inner-part">
      <div *ngFor="let todayTask of MockTodayTasks">
        <app-individual-task [task]=todayTask [editable]=editable2 [events]="eventsSubject2.asObservable()"
          (timeChangeEvent)="modifyTime($event, MockTodayTasks, 2)" (selectedTask)="selectedTasks($event, 2)"
          (unselectedTask)="unselectedTasks($event, 2)" (deleteTask)="deleteTask(MockTodayTasks, $event, 2)" (popTask)="popTask(MockTodayTasks, $event)"></app-individual-task>
      </div>
      <div class="new_task_field" (click)="addTodayTask()" *ngIf="editable2">
        <img class="img_add_new_task" src="../../assets/add-icon.png" align="top">
        <div class="add_task_label">
          Add new task here</div>
      </div>
    </div>
  </div>
</div>
<!-- <ng-template #template>
  <div class="modal-body text-center">
    <p>Total time worked cannot be more than 16 hours</p>
    <button type="button" class="button-no" (click)="decline()">OK</button>
  </div>
</ng-template> -->
